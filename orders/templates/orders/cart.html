{% extends 'base.html' %}

{% block title %}Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯{% endblock %}

{% block content %}
<h2 class="mb-4">ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h2>

{% if cart_items %}
    <div class="row">
        <div class="col-lg-8">
            <div class="bg-white rounded p-4" style="box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead style="background-color: #f5f5f5;">
                            <tr>
                                <th>Ù…Ø­ØµÙˆÙ„</th>
                                <th>Ù‚ÛŒÙ…Øª</th>
                                <th>ØªØ¹Ø¯Ø§Ø¯</th>
                                <th>Ø¬Ù…Ø¹</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in cart_items %}
                            <tr>
                                <td>
                                    <div style="display: flex; gap: 15px; align-items: center;">
                                        {% if item.product.image %}
                                            <img src="{{ item.product.image.url }}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 6px;">
                                        {% endif %}
                                        <a href="/products/product/{{ item.product.id }}/" style="text-decoration: none; color: #212121;">
                                            {{ item.product.name }}
                                        </a>
                                    </div>
                                </td>
                                <td>{{ item.product.price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†</td>
                                <td><strong>{{ item.quantity }}</strong></td>
                                <td class="text-danger"><strong>{{ item.total|floatformat:0 }}</strong> ØªÙˆÙ…Ø§Ù†</td>
                                <td>
                                    <a href="/orders/remove/{{ item.product.id }}/" class="btn btn-sm btn-danger">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="bg-white rounded p-4" style="box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                <h5 class="mb-3">ğŸ“‹ Ø®Ù„Ø§ØµÙ‡ Ø³ÙØ§Ø±Ø´</h5>
                <hr>
                <div class="d-flex justify-content-between mb-2">
                    <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                    <strong>{{ total_price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†</strong>
                </div>
                <div class="d-flex justify-content-between mb-3">
                    <span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span>
                    <strong style="color: green;">Ø±Ø§ÛŒÚ¯Ø§Ù†</strong>
                </div>
                <hr>
                <h4 class="text-danger text-center mb-4">
                    <strong>{{ total_price|floatformat:0 }} ØªÙˆÙ…Ø§Ù†</strong>
                </h4>
                <a href="/orders/checkout/" class="btn btn-primary w-100 mb-2" style="padding: 12px; font-size: 16px;">
                    âœ… ØªÚ©Ù…ÛŒÙ„ Ø®Ø±ÛŒØ¯
                </a>
                <a href="/" class="btn btn-secondary w-100">
                    ğŸ›ï¸ Ø§Ø¯Ø§Ù…Ù‡ Ø®Ø±ÛŒØ¯
                </a>
            </div>
        </div>
    </div>
{% else %}
    <div class="alert alert-warning text-center py-5">
        <h4>ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª!</h4>
        <p class="mb-3">Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
        <a href="/" class="btn btn-primary">ğŸ›ï¸ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</a>
    </div>
{% endif %}
{% endblock %}